<!DOCTYPE html>
<html>
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({"gtm.start":
  new Date().getTime(),event:"gtm.js"});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!="dataLayer"?"&l="+l:"";j.async=true;j.src=
  "https://www.googletagmanager.com/gtm.js?id="+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,"script","dataLayer","GTM-KVMRQPN");</script>
  <!-- End Google Tag Manager -->
  <script src="https://cdn.lr-in-prod.com/LogRocket.min.js" crossorigin="anonymous"></script>
	<script>window.LogRocket && window.LogRocket.init('y02stx/sanlo-staging');</script>
  <link rel="preconnect" href="https://fonts.gstatic.com/" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Sign In to Sanlo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    @font-face {
      font-family: "Roobert";
      src: url("https://storage.googleapis.com/auth0-artifacts/Roobert-Regular.woff") format('woff');
    }
    body, html {
      height: 100%;
      font-family: 'Inter', 'Helvetica', sans-serif;
      background: rgb(15, 15, 18);
      box-sizing: border-box;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    *, *:before, *:after {
      box-sizing: inherit;
    }

    p {margin: 0; padding: 0;}

    #leftGrad{
      z-index: 1;
      position: absolute;
      width: 752px;
      height: 752px;
      left: 284px;
      top: 70px;
      background: linear-gradient(291.19deg, rgba(191, 107, 255, 0.5) 10.65%, rgba(255, 92, 121, 0.5) 89.36%);
      filter: blur(143px);
      -webkit-filter: blur(143px);
      transform: translateZ(0);
      border-radius: 50%;
    }

    #rightGrad{
      z-index: 2;
      position: absolute;
      width: 752px;
      height: 752px;
      right: 240px;
      top: 326px;
      background: linear-gradient(291.19deg, rgba(45, 249, 176, 0.5) 10.65%, rgba(191, 107, 255, 0.5) 89.36%);
      filter: blur(143px);
      -webkit-filter: blur(143px);
      transform: translateZ(0);
      border-radius: 50%;
    }

    .background-error {
      background: linear-gradient(291.19deg, rgba(255, 66, 100, 0.5) 54.11%, rgba(191, 107, 255, 0.5) 89.36%) !important;
    }

    .container {
      position: absolute;
      height: 100%;
      overflow: hidden;
      margin: 0;
      width: 100%;

      visibility: hidden;
      opacity: 0;
      transition: all 0.5s ease;
    }

    /* .sanlo-logo {
      margin-left: -41px;
      margin-top: 6px;
    } */

    #signup-box {
      display: none;
    }

    .box {
      box-shadow: 0px 0px 48px rgba(0, 0, 0, 0.4);
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 480px;
      background-color: #1a1a1f;
      padding: 32px 40px 40px 40px;
      border-radius: 12px;
      z-index: 10;
    }

    .header {
      margin-bottom: 24px;
    }

    .title {
      font-family: Roober, 'Inter', sans-serif;
      margin: 0 0 8px 0;
      color: #faf8f8;
      font-weight: 600;
      font-size: 24px;
      letter-spacing: 0.01em;
      line-height: 32px;
      font-style: normal;
    }

    .subtitle {
      font-size: 14px;
      line-height: 16px;
      font-weight: 400;
      margin: 0;
      letter-spacing: 0.01em;
      color: #c5c5c5;
    }

    .subtitle-label {
      cursor: pointer;
      color: #ff5c79;
    }

    .subtitle-label:hover {
      text-decoration: underline;
    }

    .error-message {
      display: none;
      background-color: rgba(255, 92, 121, 0.1);
      color: #ff5c79;
      padding: 8px 12px;
      font-size: 14px;
      line-height: 16px;
      letter-spacing: 0.01em;
      border-radius: 10px;
      margin: 24px 0;
    }

    .form-group {
      margin-bottom: 24px;
    }

    input, label {
      display: block;
    }

    label {
      font-size: 14px;
      line-height: 16px;
      font-weight: 500;
      color: #fff;
      opacity: 0.5;
      letter-spacing: 0.01em;
      margin-bottom: 8px;
    }

    input {
      width: 100%;
      background-color: #2a2a2f;
      padding: 12px;
      border-radius: 10px;
      outline: none;
      border: 2px solid transparent;
      color: #faf8f8;
    }

    input:hover {
      border: 2px solid #414145;
    }

    input:focus {
      border: 2px solid #ff5c79;
    }

    input::placeholder {
      color: #fff;
      opacity: .5;
      letter-spacing: 0.01em;
      font-family: 'Inter';
      font-weight: 400;
      line-height: 16px;
    }

    .form-buttons {
      text-align: center;
    }

    .form-button {
      width: 100%;
      border-radius: 10px;
      margin: 16px 0;
      padding: 12px 16px;
      border: none;
      box-shadow: none;
      cursor: pointer;
      text-align: -webkit-center;
    }

    .form-button:hover {
      box-shadow: 0 0 28px 0 rgba(0,0,0,0.3)
    }

    .form-button > span {
      font-weight: 500;
      font-size: 14px;
      line-height: 16px;
      letter-spacing: 0.01em;
    }

    .form-button.google-button {
      padding: 10px 16px;
    }

    .form-button > img {
      margin-right: 8px;
      width: 20px;
      height: 20px;
    }

    .primary {
      background-color: #ff5c79;
      color: #020202;
    }

    .primary:hover {
      background-color: #ff4264;
    }

    .primary:disabled {
		  opacity: .4;
      cursor: auto;
    }

    .google-button {
      background-color: #25252a;
      color: #faf8f8;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .or-btn-divider {
      color: #c5c5c5;
      font-size: 14px;
      line-height: 16px;
      letter-spacing: 0.01em;
      text-align: center;
    }

    hr {
      margin: 24px 0;
      border: 1px solid #2a2a2f;
    }

    .forgot-password-label {
      color: #c5c5c5;
      font-size: 14px;
      line-height: 16px;
      text-decoration: none;
    }

    .forgot-password-button {
      color: #ff5c79;
      font-size: 14px;
      line-height: 16px;
      cursor: pointer;
      text-decoration: none;
    }

    .forgot-password-button:hover {
      text-decoration: underline;
    }

    .provider-label {
      display: flex;
      align-items: center;
      justify-content: center;
      color: #FFFFFF80;
      margin-top:  40px;
      font-weight: 400;
      font-size: 14px;
      line-height: 16px;
      letter-spacing: 0.01em;
    }

    .auth0-logo {
      margin-left: 8px;
      width: 54.44px;
      height: 16.09px;
      opacity: .5;
    }

    .error-p {
      margin: 10px 0;
    }

    .error-icon {
      margin-right: 8px;
    }

    /**
    * ==============================================
    * Dot Flashing
    * ==============================================
    */
    .dot-flashing {
      position: relative;
      width: 6px;
      height: 6px;
      margin: 4px 0;
      border-radius: 5px;
      background-color: #000;
      color: #000;
      animation: dotFlashing 1s infinite linear alternate;
      animation-delay: .5s;
    }

    .dot-flashing::before, .dot-flashing::after {
      content: '';
      display: inline-block;
      position: absolute;
      top: 0;
    }

    .dot-flashing::before {
      left: -8px;
      width: 6px;
      height: 6px;
      border-radius: 5px;
      background-color: #000;
      color: #000;
      animation: dotFlashing 1s infinite alternate;
      animation-delay: 0s;
    }

    .dot-flashing::after {
      left: 8px;
      width: 6px;
      height: 6px;
      border-radius: 5px;
      background-color: #000;
      color: #000;
      animation: dotFlashing 1s infinite alternate;
      animation-delay: 1s;
    }

    @keyframes dotFlashing {
      0% {
        background-color: #000;
      }
      50%,
      100% {
        background-color: #fff;
        opacity: .2;
      }
    }

    .authentication-container-header {
      position: relative;
      height: 5rem;
    }

    .main-sanlo-logo {
      position: absolute;
      top: 0;
      left: 0;
      visibility: hidden;
      z-index: 501;
    }

    .partner-site-link {
      z-index: 501;
      font-family: 'Inter';
      font-style: normal;
      font-weight: 400;
      font-size: 16px;
      line-height: 24px;
      color: #C5C5C5;
      position: absolute;
      top: 32px;
      left: 64px;
      text-decoration: none;
    }

    .branding-container {
      position: absolute;
      top: 0;
      z-index: 500;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      visibility: hidden;
    }

    .partner-branding-img {
      height: 2.25rem;
    }

    .branding-divider {
      color: white;
      font-size: 36px;
      font-weight: 100;
      margin: 0 1rem;
    }

    .sanlo-branding-img {
      height: 1.5rem;
    }

    .form-button {
      text-align: center;
    }

    .col-3 {
      width: 0.5rem;
      margin: 0 auto;
    }
  </style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KVMRQPN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div id="main-container" class="container">

    <div class="authentication-container-header">
      <a id="partner-site" class="partner-site-link"></a>

      <a class="main-sanlo-logo" id="main-sanlo-logo-link" href="https://sanlo.io">
        <img class="sanlo-logo" src="https://storage.googleapis.com/auth0-artifacts/sanlo-white-1.png" alt="sanlo-logo"/>
        <!-- <img class="sanlo-logo" src="https://storage.googleapis.com/auth0-artifacts/sanlo_logo_white.svg" alt="sanlo-logo"/> -->
      </a>

      <div class="branding-container" id="branding">
        <img class="partner-branding-img" id="partner-branding" alt="partner-logo" />
        <div class="branding-divider">+</div>
        <!-- <img class="sanlo-branding-img" src="https://storage.googleapis.com/auth0-artifacts/sanlo-white-1.png" alt="sanlo-logo"/> -->
        <img class="sanlo-branding-img" src="https://storage.googleapis.com/auth0-artifacts/sanlo_logo_white.svg" alt="sanlo-logo"/>
      </div>
    </div>

    <div id="leftGrad"></div>
    <div id="rightGrad"></div>

    <div id="login-box" class="box">
      <div class="header">
        <h3 class="title">Welcome to Sanlo</h3>
        <h5 class="subtitle">Don't have an account? <span id='label-btn-signup' class="subtitle-label">Sign Up</span></h5>
      </div>
      <div id="signin-error-message" class="error-message"></div>
      <form onsubmit="return false;" method="post">
        <div class="form-group">
          <label for="name">Email</label>
          <input
            class="login-input"
            type="email"
            id="email-signin"
            placeholder="Enter your work email address">
        </div>
        <div class="form-group">
          <label for="name">Password (min 8 characters)</label>
          <input
            class="login-input"
            type="password"
            id="password-signin"
            placeholder="Enter your password">
        </div>
        <div class="captcha-container form-group"></div>
        <div class="form-buttons">
          <button type="submit" id="btn-login" class="form-button primary gtm-sanlo-button-login-submit" disabled>
            <span>Log In</span>
          </button>
          <span class="or-btn-divider">OR</span>
          <button type="button" id="btn-google" class="form-button google-button gtm-sanlo-button-login-google">
            <img src="https://pngimg.com/uploads/google/google_PNG19635.png">
            <span>Log In with Google</span></button>
        </div>
        <hr>
        <span class="forgot-password-label">Forgot your password?</span>
        <a href="https://app.staging.sanlo.io/change-password" class="forgot-password-button">Click Here</a>
      </form>
      <div class="provider-label">Powered by <img class="auth0-logo" src="https://cdn.auth0.com/website/bob/press/logo-light.png"></div>
    </div>

    <div id="signup-box" class="box">
      <div class="header">
        <h3 class="title">Let's get started</h3>
        <h5 class="subtitle">Already have an account <span id='label-btn-signin' class="subtitle-label">Log in here</span></h5>
      </div>
      <div id="signup-error-message" class="error-message"></div>
      <form onsubmit="return false;" method="post">
        <div class="form-group">
         <label for="name">Email</label>
          <input
            class="signup-input"
            type="email"
            id="email-signup"
            placeholder="Enter your work email address">
        </div>
        <div class="form-group">
          <label for="name">Password (min 8 characters)</label>
          <input
            class="signup-input"
            type="password"
            id="password-signup"
            placeholder="Enter your password">
        </div>
        <div class="captcha-container form-group"></div>
        <div class="form-buttons">
          <button type="submit" id="btn-signup" class="form-button primary gtm-sanlo-button-signup-submit" disabled>
            <span>Continue</span>
          </button>
          <span class="or-btn-divider">OR</span>
          <button type="button" id="btn-google-signup" class="form-button google-button gtm-sanlo-button-signup-google">
            <img src="https://pngimg.com/uploads/google/google_PNG19635.png">
            <span>Sign Up with Google</span></button>
        </div>
      </form>
      <div class="provider-label">Powered by <img class="auth0-logo" src="https://cdn.auth0.com/website/bob/press/logo-light.png"></div>
    </div>
  </div>

  <!--[if IE 8]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ie8/0.2.5/ie8.js"></script>
  <![endif]-->

  <!--[if lte IE 9]>
  <script src="https://cdn.auth0.com/js/polyfills/1.0/base64.min.js"></script>
  <script src="https://cdn.auth0.com/js/polyfills/1.0/es5-shim.min.js"></script>
  <![endif]-->

  <script src="https://cdn.auth0.com/js/auth0/9.16/auth0.min.js"></script>
  <script src="https://cdn.auth0.com/js/polyfills/1.0/object-assign.min.js"></script>
  <script type="text/javascript">

    window.addEventListener('load', function() {
      function doCheck(type){
        var allFilled = true;
        const idName = 'btn-' + type;
        const className = type + '-input';
        var inputs = document.getElementsByClassName(className);
        for(var i=0; i<inputs.length; i++){
            if(inputs[i].value == '' || inputs[1].value.length < 8){
                allFilled = false;
                break;
            }
        }

        document.getElementById(idName).disabled = !allFilled;
      }

      function validateInputs(type) {
        const className = type + '-input'
        var inputs = document.getElementsByClassName(className);
        for(var i=0; i<inputs.length; i++){
          if(inputs[i].type == "email" || inputs[i].type == "password"){
              inputs[i].onkeyup = () => doCheck(type);
              inputs[i].onblur = () => doCheck(type);
          }
        }
      }

      function toggleBox(box) {
        var boxes = document.getElementsByClassName('box')
        for (var i=0; i < boxes.length ; i++) {
          boxes[i].style.display = 'none';
        }
        document.getElementById(box).style.display = 'block';
      }

      let leftGrad = document.getElementById('leftGrad');
      let rightGrad = document.getElementById('rightGrad');

      window.onmousemove = function (e) {
        let _w = window.innerWidth / 2;
        let _h = window.innerHeight / 2;
        let _mouseX = e.clientX;
        let _mouseY = e.clientY;

        let xL = `${300 - (_mouseX - _w) * 0.2}px`
        let yL = `${50 - (_mouseY - _h) * 0.2}px`;

        let xR = `${200 + (_mouseX - _w) * 0.3}px`
        let yR = `${300 + (_mouseY - _h) * 0.3}px`;

        leftGrad.style.top = yL;
        leftGrad.style.left = xL;

        rightGrad.style.top = yR;
        rightGrad.style.right = xR;
      };

      validateInputs('login')
      validateInputs('signup')

      document.getElementById('label-btn-signin').addEventListener('click', () => toggleBox('login-box'));
      document.getElementById('label-btn-signup').addEventListener('click', () => toggleBox('signup-box'));
    })
  </script>
  <script>
    window.addEventListener('load', function() {

      var config = JSON.parse(
        decodeURIComponent(escape(window.atob('@@config@@')))
      );

      // Parse the callbackURL query parms
      const [base_url, url_params] = config.callbackURL.split('?');
      const parsed_params = {};
      if (url_params) {
        const split_params = url_params.split('&');
        split_params.forEach((param) => {
          const [p_key, p_val] = param.split('=');
          parsed_params[p_key] = p_val;
        });
      }

      const {
        sanlo_flow,
        partnerName,
        partnerLogo,
        partnerSite,
        fromPartnerSite = false,
        clientToken = "",
        partnerAttributionClientId = "",
      } = parsed_params;

      const hasLogo = Boolean(partnerLogo);
      const hasRedirect = Boolean(partnerName) && Boolean(partnerSite);
      if (hasLogo) {
        document.getElementById('branding').style.visibility = 'visible';
        document.getElementById('partner-branding').setAttribute('src', partnerLogo);
      }
      if (hasRedirect) {
        document.getElementById('partner-site').href = partnerSite;
        document.getElementById('partner-site').innerHTML = `<- Back to ${partnerName}`;
      } else {
        document.getElementById('main-sanlo-logo-link').style.visibility = 'visible';
      }

      if (fromPartnerSite === 'true' || sanlo_flow === 'signup') {
		    toggleBox('signup-box');
      }

      setTimeout(() => {
        document.getElementById('main-container').style.visibility = 'visible';
        document.getElementById('main-container').style.opacity = 1;
      }, 0);

      var leeway = config.internalOptions.leeway;
      if (leeway) {
        var convertedLeeway = parseInt(leeway);

        if (!isNaN(convertedLeeway)) {
          config.internalOptions.leeway = convertedLeeway;
        }
      }

      var params = Object.assign({
        overrides: {
          __tenant: config.auth0Tenant,
          __token_issuer: config.authorizationServer.issuer
        },
        domain: config.auth0Domain,
        clientID: config.clientID,
        redirectUri: config.callbackURL,
        responseType: 'code',
      }, config.internalOptions);

      var webAuth = new auth0.WebAuth(params);
      var databaseConnection = 'Username-Password-Authentication';
      var captcha = webAuth.renderCaptcha(
        document.querySelector('.captcha-container')
      );

      function login(e) {
        e.preventDefault();
        toggleErrorBackground(false, 'signin-error-message');
        var button = this;
        button.innerHTML = `
          <div class="col-3">
            <div class="snippet" data-title=".dot-flashing">
              <div class="stage">
                <div class="dot-flashing"></div>
              </div>
            </div>
          </div>`
        var username = document.getElementById('email-signin').value;
        var password = document.getElementById('password-signin').value;
        button.disabled = true;

        const payload = {
          realm: databaseConnection,
          username: username,
          password: password,
          captcha: captcha.getValue(),
        }

        webAuth.login(payload, (err) => {
          if (err) displayError(err, 'signin');
          else document.getElementById("signin-error-message").style.display = 'none';
          button.disabled = false;
          button.innerHTML = `<span>Log In</span>`
        });
      }

      function signup() {
        toggleErrorBackground(false, 'signup-error-message');
        var button = this;
        button.innerHTML = `
          <div class="col-3">
            <div class="snippet" data-title=".dot-flashing">
              <div class="stage">
                <div class="dot-flashing"></div>
              </div>
            </div>
          </div>`
        var email = document.getElementById('email-signup').value;
        var password = document.getElementById('password-signup').value;

        button.disabled = true;

        const payload = {
          connection: databaseConnection,
          email: email,
          password: password,
          captcha: captcha.getValue()
        }

        webAuth.redirect.signupAndLogin(payload, (err) => {
          if (err) displayError(err, 'signup');
          button.innerHTML = `<span>Sign Up</span>`
          button.disabled = false;
        });
      }

      function loginWithGoogle() {
        let payload = {
          connection: 'google-oauth2'
        };
        if (clientToken) payload.clientToken = clientToken;
        if (partnerAttributionClientId) payload.partnerAttributionClientId = partnerAttributionClientId;
        webAuth.authorize(payload, function(err) {
          if (err) displayError(err, 'signin');
        });
      }

      function displayError(err, type) {
        captcha.reload();
        const idName = type + '-error-message';
        var errorMessage = document.getElementById(idName);
        toggleErrorBackground(true, idName);

        if (err.code === 'invalid_password') {
          errorMessage.innerHTML = parseMultipleErrors(err.policy);
          errorMessage.style.display = 'block';
        } else if (err.code === 'user_exists') {
          moveToLogin()
        } else {
          errorMessage.innerHTML = parseErrorDescription(err);
          errorMessage.style.display = 'block';
        }
      }

      function moveToLogin() {
        const loginErrorMessage = document.getElementById("signin-error-message");
        const email = document.getElementById("email-signup").value;
        loginErrorMessage.innerHTML = "Looks like you already have a Sanlo account. Please log in or click the “Forgot your password?” link to reset your password.";
        loginErrorMessage.style.display = "block";
        toggleBox("login-box")
        document.getElementById("email-signin").value = email;
      }

      function parseErrorDescription(error) {
        switch (error.code) {
          case 'invalid_user_password':
            return 'Please check your login credentials.';
          case 'user_exists':
            return "Looks like you already have a Sanlo account. Please log in or click the “Forgot your password?” link to reset your password.";
          case 'invalid_password':
            return parseMultipleErrors(error.policy).innerHTML;
          default:
            return error.description;
        }
      }

      function parseMultipleErrors(errors) {
        const errorsArray = errors.split('\n');
        const div = document.createElement('div');
        errorsArray.forEach(error => {
          error.trim();
          const p = document.createElement('p');
          p.classList.add('error-p');
          p.innerHTML = error
          div.appendChild(p);
        })
        return div.innerHTML;
      }

      function toggleErrorBackground(shouldToggle, type) {
        const leftGrad = document.getElementById('leftGrad');
        const rightGrad = document.getElementById('rightGrad');
        const errorMessage = document.getElementById(type);
        if (shouldToggle) {
          leftGrad.classList.add('background-error');
          rightGrad.classList.add('background-error');
          if (type) errorMessage.style.display = 'block';
        } else {
          leftGrad.classList.remove('background-error');
          rightGrad.classList.remove('background-error');
          if (type) errorMessage.style.display = 'none';
        }
      }

      function toggleBox(box) {
        var boxes = document.getElementsByClassName('box')
        for (var i=0; i < boxes.length ; i++) {
          boxes[i].style.display = 'none';
        }
        document.getElementById(box).style.display = 'block';
      }

      document.getElementById('btn-login').addEventListener('click', login);
      document.getElementById('btn-google').addEventListener('click', loginWithGoogle);
      document.getElementById('btn-signup').addEventListener('click', signup);
      document.getElementById('btn-google-signup').addEventListener('click', loginWithGoogle);
    });
  </script>
</body>
</html>
